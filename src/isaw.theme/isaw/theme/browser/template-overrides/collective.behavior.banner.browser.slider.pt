<div id="portal-slider"
     class="principal"
     role="complementary"
     tal:define="banners view/random_banner | nothing;
                 portal context/@@plone_portal_state/portal;
                 context_state context/@@plone_context_state"
     tal:condition="python: banners"
     tal:attributes="class python: view.scroll and 'scrollable principal' or 'principal';"
     i18n:domain="collective.behavior.banner">

 <div class="container">
  <div class="gigantic">

    <ul class="items">

        <tal:loop tal:repeat="banner banners">

            <li class="portal-banner"
                 tal:define="has_image python:'banner_image' in banner;
                             has_url python:banner and 'banner_url' in banner;
                             has_fontcolor python:'banner_fontcolor' in banner;
                             fontcolor python:has_fontcolor and banner['banner_fontcolor'] + ' !important' or '#ffffff'">


                <div class="bannerImage"
                     tal:condition="python:has_image">
                        <img class="bannerImageImage"
                             tal:attributes="src string:${banner/banner_image};
                                             alt banner/banner_alt">
                </div>

                <div class="bannerVideo"
                     tal:condition="python:has_url and not has_image">
                    <tal:iframe define="url banner/banner_url"
                      replace="structure python:view.getVideoEmbedMarkup(url)">
                    </tal:iframe>
                </div>

                <div class="bannerText"
                     tal:define="
                     banner_title banner/banner_title|nothing;
                     banner_desc banner/banner_description|nothing;
                     banner_link banner/banner_link|nothing;
                     banner_text banner/banner_text|nothing;
                     "
                     tal:condition="python:banner_title or banner_desc or  banner_link or  banner_text">

                    <div class="bannerTitle"
                         tal:attributes="style string:color:${fontcolor}"
                         tal:condition="banner_title">
                        <span tal:replace="banner/banner_title">Title</span>
                    </div>

                    <div class="bannerDescription"
                         tal:attributes="style string:color:${fontcolor}"
                         tal:condition="banner_desc">
                        <span tal:replace="banner_desc" />
                    </div>

                    <div class="bannerLink"
                         tal:attributes="style string:color:${fontcolor}"
                         tal:condition="python:banner_link and 'banner_linktext' in banner">

                        <a href="" title="" tal:attributes="href banner_link; title banner/banner_linktext"
                                            tal:content="banner/banner_linktext">
                            Link
                        </a>

                    </div>
                    <div class="bannerBody"
                       tal:attributes="style string:color:${fontcolor}"
                       tal:condition="banner_text">
                       <span tal:replace="structure banner/banner_text">
                             Text
                       </span>
                    </div>

                 </div>

            </li>

        </tal:loop>

    </ul>

  </div>
 </div>

<script type="application/javascript">
$(document).ready(function() {
  $(function() {
    $("#portal-slider .items").responsiveSlides({
        speed: 700,
        timeout: 6000,
        pager: true,
        nav: true,
        prevText: '<img id="prev-bt" src="++resource++prevII.gif" title="" alt="previous_picture_alt">',
        nextText: '<img id="prev-bt" src="++resource++nextII.gif" title="" alt="previous_picture_alt">'
    });
  });





});
</script>
</div>
